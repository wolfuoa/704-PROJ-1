ConveyorController(
	input signal bottleAtPos1;
	output signal motConveyorOn;
	
	input Integer channel conveyorStep;
	output Integer channel conveyorStepComplete;
   	)
->
{
	while(true)
	{
		receive conveyorStep;
		abort(bottleAtPos1)
		{
			sustain motConveyorOn;
		}
		
		send conveyorStepComplete(0);
	}
}